/* Academic, LaTeX-like print styles for Markdown -> HTML -> PDF rendering */

@page {
  size: A4;
  margin: 25mm 24mm;
}

:root {
  --ink: #111;
  --muted: #555;
  --rule: #333;
  --light-rule: #c9c9c9;
  --code-bg: #f6f6f6;
  --link: #0b57d0;
}

html, body {
  padding: 0;
  margin: 0;
  color: var(--ink);
  font-family: "Latin Modern Roman", "CMU Serif", "Times New Roman", Times, serif;
  font-size: 11.5pt;
  line-height: 1.38;
}

body {
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  text-align: justify;
  hyphens: auto;
  widows: 2;
  orphans: 2;
}

main {
  max-width: 100%;
}

/* Headings */
h1, h2, h3, h4, h5, h6 {
  font-weight: 600;
  page-break-after: avoid;
  break-after: avoid;
  text-align: left;
  margin: 1.2em 0 0.4em;
}

h1 {
  font-size: 18pt;
  font-weight: 700;
  text-align: center;
  margin: 0 0 0.8em;
}

h2 {
  font-size: 14pt;
  border-bottom: 1px solid var(--light-rule);
  padding-bottom: 0.15em;
}

h3 { font-size: 12.2pt; }
h4 { font-size: 11.5pt; font-weight: 600; }

/* Paragraphs: LaTeX-like indenting */
p {
  margin: 0;
  text-indent: 1.5em;
}

/* No indent after headings and certain blocks */
h1 + p,
h2 + p,
h3 + p,
h4 + p,
hr + p,
blockquote + p,
ul + p,
ol + p,
pre + p,
table + p {
  text-indent: 0;
}

/* Spacing between paragraphs (LaTeX uses vertical glue; mimic lightly) */
p + p {
  margin-top: 0.35em;
}

/* Links */
a { color: var(--link); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Lists */
ul, ol {
  margin: 0.6em 0 0.6em 1.6em;
  text-align: left;
}
li { margin: 0.15em 0; }

li p { text-indent: 0; }

/* Block quotes */
blockquote {
  margin: 0.9em 0;
  padding: 0.0em 0 0.0em 1.0em;
  border-left: 2px solid var(--light-rule);
  color: var(--muted);
}
blockquote p { text-indent: 0; }

/* Code */
code {
  font-family: "CMU Typewriter Text", "Cascadia Mono", Consolas, "Liberation Mono", Menlo, Monaco, monospace;
  font-size: 10pt;
  background: var(--code-bg);
  padding: 0.06em 0.22em;
  border: 1px solid #e3e3e3;
}

pre {
  background: var(--code-bg);
  padding: 0.7em 0.9em;
  overflow: auto;
  border: 1px solid #e3e3e3;
  page-break-inside: avoid;
  break-inside: avoid;
  text-align: left;
}
pre code {
  background: transparent;
  border: none;
  padding: 0;
}

/* Tables: booktabs-like (no vertical rules) */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 1em 0;
  page-break-inside: avoid;
  break-inside: avoid;
  font-size: 10.5pt;
}

thead th {
  font-weight: 600;
  border-bottom: 1px solid var(--rule);
  padding: 6px 6px;
  text-align: left;
}

tbody td {
  border-bottom: 1px solid var(--light-rule);
  padding: 6px 6px;
  vertical-align: top;
}

tbody tr:last-child td {
  border-bottom: 1px solid var(--rule);
}

/* Horizontal rules */
hr {
  border: none;
  border-top: 1px solid var(--light-rule);
  margin: 1.1em 0;
}

img {
  max-width: 100%;
  height: auto;
}

/* Markdown TOC (markdown extension 'toc') */
.toc {
  border: 1px solid var(--light-rule);
  padding: 0.8em 1.0em;
  margin: 1.0em 0;
  text-align: left;
  font-size: 10.5pt;
}
.toc ul { margin: 0.3em 0 0.3em 1.2em; }
.toc a { color: var(--ink); }

/* References / Sources: hanging indent like LaTeX bibliography */
.references-section {
  margin-top: 1.2em;
  text-align: left;
  font-size: 10.3pt;
  line-height: 1.28;
  overflow-wrap: anywhere;
}

.references-section p { text-indent: 0; }

.references-section h2,
.references-section h3 {
  border-bottom: none;
  padding-bottom: 0;
  margin-bottom: 0.6em;
}

.references-section ul,
.references-section ol {
  margin: 0.4em 0 0 0;
  padding: 0;
  list-style-position: outside;
}

.references-section li {
  margin: 0.45em 0;
  padding-left: 1.8em;
  text-indent: -1.8em;
}

.references-section li p {
  text-indent: 0;
  margin: 0;
}

.references-section .ref-url {
  display: block;
  margin-top: 0.15em;
  font-family: "CMU Typewriter Text", "Cascadia Mono", Consolas, "Liberation Mono", Menlo, Monaco, monospace;
  font-size: 9.2pt;
  color: var(--muted);
  overflow-wrap: anywhere;
  word-break: break-word;
}

.references-section .ref-url a {
  color: var(--muted);
  text-decoration: none;
}

.references-section .ref-item-num {
  font-weight: 600;
}

/* Page breaks */
.page-break {
  page-break-before: always;
  break-before: page;
}

/* Internal library references (converted from .md links) */
.internal-ref {
  background: #f4f4f4;
  padding: 0.15em 0.4em;
  border-radius: 3px;
  font-size: 10.5pt;
  white-space: nowrap;
}

.internal-ref em {
  color: var(--muted);
  font-style: italic;
  margin-right: 0.2em;
}

/* Optional metadata blocks */
.meta {
  color: var(--muted);
  font-size: 10pt;
  margin-top: 0.4em;
  text-align: center;
}
